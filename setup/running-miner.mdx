---
title: Running the Miner
description: Launch your MetaHash miner with proper configuration
---

# Running the Miner

Start your MetaHash miner with the correct parameters and configuration.

## Standard Command

```bash
python neurons/miner.py \
  --netuid 73 \
  --wallet.name mywallet \
  --wallet.hotkey miner1 \
  --subtensor.network finney \
  --miner.bids.netuids 62 \
  --miner.bids.amounts 0.25 \
  --miner.bids.discounts 500 \
  --axon.port 8091 \
  --axon.external_port 8091 \
  --logging.debug \
  --blacklist.force_validator_permit \
  --payment.validators 5H9WDbXXtJVoMRAGM3EgqZPZBk5A4d57PthhxsNrb6hBXsz7
```

## Parameter Breakdown

| Parameter | Description | Example |
|-----------|-------------|---------|
| `--netuid` | Target subnet ID | `73` |
| `--wallet.name` | Your wallet name | `mywallet` |
| `--wallet.hotkey` | Your hotkey name | `miner1` |
| `--subtensor.network` | Network to connect to | `finney` |
| `--miner.bids.netuids` | Funding subnet(s) for α | `62` |
| `--miner.bids.amounts` | Bid amount in α | `0.25` |
| `--miner.bids.discounts` | Discount in basis points | `500` (5%) |
| `--axon.port` | Internal port | `8091` |
| `--axon.external_port` | External port | `8091` |
| `--logging.debug` | Enable debug logging | N/A |
| `--blacklist.force_validator_permit` | Validator whitelist mode | N/A |
| `--payment.validators` | Validator hotkey for payments | Your staked hotkey |

<Warning>
**Important**: Replace the `--payment.validators` address with your own hotkey that has staked TAO. This must be a hotkey with funds!
</Warning>

## Multiple Bid Lines

You can bid on multiple funding subnets:

```bash
python neurons/miner.py \
  --netuid 73 \
  --wallet.name mywallet \
  --wallet.hotkey miner1 \
  --subtensor.network finney \
  --miner.bids.netuids 62 63 \
  --miner.bids.amounts 0.25 0.20 \
  --miner.bids.discounts 500 450 \
  --axon.port 8091 \
  --axon.external_port 8091 \
  --logging.debug \
  --blacklist.force_validator_permit \
  --payment.validators 5H9WDbXXtJVoMRAGM3EgqZPZBk5A4d57PthhxsNrb6hBXsz7
```

<Note>
Ensure the number of `netuids`, `amounts`, and `discounts` match exactly, or you'll get a `ValueError`.
</Note>

## Expected Logs

When your miner starts successfully, you should see:

```
Axon served with: AxonInfo(5H9WDbXXt..., 18.xx.xx.xx:8091)
Miner started
Configured Bid Lines:
  0 │ 62 │ 0.2500 α │ 500 bps
Miner running…
```

<Check>
✅ Your miner is active on SN 73 and bidding α from subnet 62!
</Check>

## Successful Auction Logs

When your miner participates in auctions, look for:

```
AuctionStart detected
Win invoice received
α payment sent
```

These logs confirm your miner is:
- Detecting validator auctions
- Winning bids
- Successfully paying α to validators

## Common Issues

<AccordionGroup>
  <Accordion title="ValueError: miner.bids.* lengths must match">
    **Cause**: Mismatched number of netuids, amounts, or discounts

    **Fix**: Ensure equal list lengths:
    ```bash
    --miner.bids.netuids 62 63     # 2 items
    --miner.bids.amounts 0.25 0.20 # 2 items
    --miner.bids.discounts 500 450 # 2 items
    ```
  </Accordion>

  <Accordion title="Killed">
    **Cause**: Out of memory (OOM)

    **Fix**: Add swap space or upgrade to t3.medium instance:
    ```bash
    sudo fallocate -l 2G /swapfile
    sudo chmod 600 /swapfile
    sudo mkswap /swapfile
    sudo swapon /swapfile
    echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab
    ```
  </Accordion>

  <Accordion title="Port not open">
    **Cause**: AWS security group blocking port

    **Fix**: Allow TCP 8091 in your security group settings
  </Accordion>

  <Accordion title="Wallet password prompt">
    **Cause**: Missing `.env` file

    **Fix**: Add `WALLET_PASSWORD` to your `.env` file
  </Accordion>

  <Accordion title="No AuctionStart events">
    **Cause**: Port 8091 not accessible or validators inactive

    **Fix**:
    1. Verify port is open: `ss -tulpn | grep 8091`
    2. Check AWS security group
    3. Verify validators are active: `btcli subnets metagraph --netuid 73`
  </Accordion>
</AccordionGroup>

## Log Monitoring

View your miner logs in real-time:

```bash
tail -f ~/.bittensor/miners/mywallet/miner1/netuid73/miner.log
```

## Next Steps

After starting your miner, verify [Port Setup](/setup/port-setup) to ensure external connectivity.
