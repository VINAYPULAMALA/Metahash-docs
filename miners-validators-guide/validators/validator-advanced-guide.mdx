---
title: Validator Advanced Guide
description: Use this playbook once you have the basics handled in the [Validator Simple Guide](/miners-validators-guide/validators/validator-simple-guide). It focuses on production-ready configuration, reliability, and fine-grained control over validator behavior.
---

## Prerequisites

<Info color="orange">
<span style={{ color: '#fbb12b' }}>
- Subtensor lite node running with `--pruning=2000` **or** your own archive node (recommended for production).
- Python 3.10+ with `pip`/`venv` and the ability to run process managers such as `pm2` or systemd.
- Funded coldkey / hotkey pair registered on subnet 73 with sufficient stake for validator collateral.
- SSH access to a hardened server (CPU ≥ 4 vCPU, RAM ≥ 8 GB) and familiarity with firewall configuration.
</span>
</Info>

## Base Environment Setup

<Steps>
  <Step title="Clone and bootstrap the repository">
    ```bash
    git clone https://github.com/fx-integral/metahash.git
    cd metahash
    python -m venv .venv
    source .venv/bin/activate
    pip install -U pip wheel uv
    uv pip install -e .
    ```
  </Step>
  <Step title="Provision runtime secrets">
    ```bash
    cat <<'EOF' > .env
    BT_WALLET_NAME=metahash
    BT_HOTKEY=validatorx
    IPFS_API_URL=http://ipfs.metahash73.com:5001/api/v0
    EOF
    ```
    Adjust the wallet names and IPFS endpoint to match your environment. Keep `.env` out of version control.
  </Step>
</Steps>

## Wallet & Registration

```bash
# create secure coldkey
btcli wallet new_coldkey --wallet.name metahash

# create validator hotkey
btcli wallet new_hotkey --wallet.name metahash --wallet.hotkey validatorx

# register the hotkey on subnet 73
btcli register --netuid 73 --wallet.name metahash --wallet.hotkey validatorx
```

## Launch Options

### Run with pm2 (recommended for restarts)

```bash
pm2 start python \
  --name metahash-validator \
  -- \
  neurons/validator.py \
  --netuid 73 \
  --subtensor.network archive \
  --wallet.name metahash \
  --wallet.hotkey validatorx \
  --neuron.axon_off \
  --logging.debug
```

### Run directly with Python

```bash
python neurons/validator.py \
  --netuid 73 \
  --subtensor.network archive \
  --wallet.name metahash \
  --wallet.hotkey validatorx \
  --neuron.axon_off \
  --logging.debug
```

<Tip>
`--subtensor.network archive` is fine for testing, but production operators should connect to their own node (`--pruning=2000`) to avoid dependence on shared infrastructure and to reduce latency.
</Tip>

## Strategy & Weight Tuning

MetaHash validators determine bid acceptance, scoring, and payments using `weights.yml` and custom logic within `metahash/validator/strategy.py`.

```yaml title="weights.yml (sample)"
default: 1.0   # baseline weight for unspecified subnets

0: 0           # disable subnet 0
73: 0          # disable subnet 73 (self)
136: 1         # prefer subnet 136
```

- Adjust `weights.yml` to prioritize or disable specific subnets when sourcing α.
- Extend `validator/strategy.py` to experiment with alternative scoring heuristics or delegation policies.
- Keep a copy of your custom strategy in source control—upgrades may overwrite local changes.

## Alpha Acquisition & Payments

<Info>
- Maintain separate hotkeys for α sourcing (`--payment.validators`) to compartmentalize risk.
- Use `btcli stake overview` regularly to confirm funding hotkeys retain sufficient stake.
- Consider staggering α deposits across multiple subnets to prevent auction stalls if one α pool drains.
</Info>

## Operational Playbook

- **Monitoring**: Forward logs to a centralized system (e.g., CloudWatch, Loki) and alert on missing `AuctionStart` or `WinSynapse` events.
- **Security**: Restrict SSH access, keep system packages updated, and rotate wallet passwords stored in `.env`.
- **Backups**: Snapshot the validator host and the wallet directory `~/.bittensor/wallets/` before upgrades.
- **Upgrades**: Use a blue/green pattern—bring up a secondary validator, verify performance, then decommission the old node.

<Note>
Share your successful configurations or automation scripts with the community on Discord—collective learnings harden the subnet for everyone.
</Note>
